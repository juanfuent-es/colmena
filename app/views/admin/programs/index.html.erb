<% provide(:title, "#{t(:programs)}" ) %>

<header class="flex flex-col-reverse md:items-center md:flex-row border-b border-white/5 py-4 sm:py-6 mb-2 md:mb-4 w-full">
  <div class="sm:flex-auto">
    <h1 class="leading-6 text-xl font-medium"><%= t(:programs) %> <sup>
          <%= Program.all.count %>
        </sup></h1>
  </div>
  <nav class="my-4 flex gap-4 text-sm">
    <%= render "components/link", href: new_admin_program_path, text: "Nuevo Programa", icon: "fa-solid fa-plus" %>
  </nav>
</header>

<section class="my-8 flow-root">
  <table class="w-full">
    <thead class="text-left">
      <tr>
        <th colspan="3">Programa</th>
      </tr>
    </thead>
    <tbody>
      <% @programs.each do |program| %>
        <tr>
          <td>
            <%= link_to edit_admin_program_url(program), class: "" do %>
              <%= program.title %>
            <% end %>
          </td>
          <td class="text-sm py-2 text-center">
            <%= render "components/link", href: admin_program_themes_path(program), text: "#{program.themes.count} Clase#{program.themes.count != 1 ? 's' : ''}", icon: "fa-solid fa-book-open" %>
          </td>
          <td class='text-center'>
            <%= link_to admin_program_path(program), method: :delete, class: "btn danger" , data: {
              confirm: "¿Estás seguro de eliminar este #{t(:program)}?" } do %>
              <i class='fas fa-trash'></i> Eliminar
              <% end %>
          </td>
        </tr>
        <% end %>
    </tbody>
  </table>
</section>